#### 什么是git？

##### 定义

> git是个分布式版本管理工具，与集中式版本管理工具svn相反。

##### 作用

> 我们都知道Git是以版本为基础对项目进行管理的，每次我们对项目提交了修改，它会帮你保存一次，同时生成一个版本号。通过版本号，你可以对项目或者文件进行回滚操作。git也是分布式的管理工具，对我们合作开发是非常高效的工具。

##### 安装下载

官网下载： https://git-scm.com/downloads

安装过程，一般就直接点到头，不会出现什么太大的差异。

##### 使用

- 远程仓库

  远程仓库有很多，比如github，gitlab，国内的码云，局域网自建git服务器，托管在其他地方的服务器，这里就以github为例。

- 远程仓库配置

  - 首先得先有账号，没有就先注册账户，这就不废话了。
  - 然后就是创建的仓库， 点击右上角，加号，new repository
  - 链接到远程仓库一般我常用到两种方式https和ssh方式，https比较简单，不需要做其他配置，但是如果是私有仓库的话，每一次push就需要输入密码有些麻烦，所以推荐使用ssh方式。ssh方式就需要做一些配置，不过很简单。

- 生成（配置）SSH

  - 配置用户名

    ```
    git config --global user.name "注册名"
    ```

    配置邮箱

    ```
    git config --global user.email "注册邮箱"
    ```

    注意：这里的--global是全局的意思，如果你有多个账号，比如你的个人号和公司号，需要区分，就需要你自己的考虑是否取用--global了，不过环境下是可以有多个ssh的，这个不用担心。

  - 生成SSH

    ```
    ssh-keygen -t rsa -C "自己的邮箱"
    ```

    ![image-20210831173557278](https://gitee.com/p_pj/pig/raw/master/img/image-20210831173557278.png)
    生成成功，如图中选出为公钥和私钥

    SSH文件存放在C:/User/用户/.ssh下，id_rsa为私钥，id_rsa.pub为公钥。

- github配置SSH

  - 打开id_rsa.pub文件，全选，复制全文
  - github->账户->setting
  - 选择SSH and GPGkeys，New SSH key
  - 自定义一个title，然后粘贴从公钥文件中拷贝的key。
  - 添加后就配置好了ssh

- 测试SSH连接

  ```
  ssh -T git@github.com
  ```

  ![image-20210831173838891](https://gitee.com/p_pj/pig/raw/master/img/image-20210831173838891.png)

  按照提示输入yes，回车，提示successfully之类的就说明SSH连接正常，github上的钥匙也会变成绿色。至此，本地git客户端和远程github建立了联系。

- 推送文件至远程仓库

  在把文件推送到远程仓库之前，先要了解本地仓库这个概念，此外还有add，commit，push等概念，本文不再赘述。对于仓库，如果是一个使用的话。基本流程:add->commit->push

  - 建立本地仓库

    git bash中执行命令，将该文件夹初始化为一个仓库

    ```
    git init
    ```

    初始化完后，在这个文件下面会出现一个隐藏的文件夹.git，里面就有一些我们对应的一些配置。没有的话，设置一下文件夹选项，显示隐藏文件。

    但是一般来说，我们是直接建立完远程仓库，在本地直接克隆仓库就好了，不需要自己初始化，再直接进行版本管理就好。
    
    ```
    git clone xxx(xxx为我们自己去复制对应的ssh或者https地址)
    ```

  - 推送文件至远程

    当我们需要更新远程仓库(即本地仓库有变更，远程需要更新）

    通过add命令将变更内容添加到暂存区

    ```
    git add 文件夹1/ 文件夹2/
    注意:add有多种形式，可以add某个文件，某个文件夹，或直接add当前仓库下所有文件
    git add 单个文件
    git add 文件夹1/ 文件夹2/ ……多个文件夹之间空格隔开
    git add .  （全部添加，常用）
    ```

    通过commit命令将暂存区内容提交到我们的本地仓库

    ```
    git commit -m '写更新说明'
    ```

    最后再将我们本地仓库的内容推送到远程仓库

    ```
    git push origin master
    注意：一般来说默认的主分支是master，不过现在GitHub推荐我们使用main。你用不习惯也可以改回来。或者用你自己建的分支。
    ```

    

#### 写在最后

> 基本的使用已经讲的差不多了，还有一些高阶的运用比如分支，和多人协作时的冲突问题。后续我也会继续出文章来讲解。

