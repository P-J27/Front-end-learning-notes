其实不只是vue，react中在执行列表渲染时也会要求给每个组件添加上key这个属性。

要解释key的作用，不得不先介绍一下虚拟DOM的Diff算法了。

我们知道，vue和react都实现了一套虚拟DOM，使我们可以不直接操作DOM元素，只操作数据便可以重新渲染页面。而隐藏在背后的原理便是其高效的Diff算法。

```undefined
  vue和react的虚拟DOM的Diff算法大致相同，其核心是基于两个简单的假设：
```

**1. 两个相同的组件产生类似的DOM结构，不同的组件产生不同的DOM结构。**

**2. 同一层级的一组节点，他们可以通过唯一的id进行区分。**

基于以上这两点假设，使得虚拟DOM的Diff算法的复杂度从**O(n^3)**降到了**O(n)**。

```undefined
当页面的数据发生变化时，Diff算法只会比较同一层级的节点：
```

-  **如果节点类型不同，直接干掉旧的节点，再创建并插入新的节点，不会去比较这个节点下面的子节点了。**
- **如果节点类型相同，则会重新设置该节点的属性，从而实现节点的更新。即最大程度的就地复用组件**

```undefined
当某一层有很多相同的节点时，也就是列表节点时，Diff算法的更新过程默认情况下也是遵循以上原则
```

