# CSS高级技巧

### CSS用户界面样式

 所谓的界面样式， 就是更改一些用户操作样式， 比如 更改用户的鼠标样式， 表单轮廓等。但是比如滚动条的样式改动受到了很多浏览器的抵制，因此我们就放弃了。 防止表单域拖拽

#### 鼠标样式cursor

 设置或检索在对象上移动的鼠标指针采用何种系统预定义的光标形状。 

```css
cursor :  default  小白 | pointer  小手  | move  移动  |  text  文本
```

 鼠标放我身上查看效果哦：

```html
<ul>
  <li style="cursor:default">我是小白</li>
  <li style="cursor:pointer">我是小手</li>
  <li style="cursor:move">我是移动</li>
  <li style="cursor:text">我是文本</li>
</ul>
```

 尽量不要用hand  因为 火狐不支持     pointer ie6以上都支持的尽量用

#### 轮廓 outline

 是绘制于元素周围的一条线，位于边框边缘的外围，可起到突出元素的作用。

~~~css
 outline : outline-color ||outline-style || outline-width 
~~~

 但是我们都不关心可以设置多少，我们平时都是去掉的。

最直接的写法是 ：  outline: 0; 

```html
 <input  type="text"  style="outline: 0;"/>
```

#### 防止拖拽文本域resize

resize：none    这个单词可以防止 火狐 谷歌等浏览器随意的拖动 文本域。

右下角可以拖拽： 

<textarea></textarea>

右下角不可以拖拽： 

```html
<textarea  style="resize: none;"></textarea>

```

-------------





### vertical-align 垂直对齐

以前我们讲过让带有宽度的块级元素居中对齐，是margin: 0 auto;

以前我们还讲过让文字居中对齐，是 text-align: center;

但是我们从来没有讲过有垂直居中的属性， 我们的妈妈一直很担心我们的垂直居中怎么做。

vertical-align 垂直对齐， 这个看上去很美好的一个属性， 实际有着不可捉摸的脾气，否则我们也不会这么晚来讲解。

<img src="https://gitee.com/p_pj/picgo/raw/master/img/20210618235259.jpg" />

~~~css
vertical-align : baseline |top |middle |bottom 
~~~

设置或检索对象内容的垂直对其方式。 

![1498467742995](https://gitee.com/p_pj/picgo/raw/master/img/20210618235302.png)

vertical-align 不影响块级元素中的内容对齐，它只针对于 行内元素或者行内块元素，特别是行内块元素， **通常用来控制图片和表单与文字的对齐**等。

#### 图片、表单和文字对齐

所以我们知道，我们可以通过vertical-align 控制图片和文字的垂直关系了。 默认的图片会和文字基线对齐。

#### 去除图片底侧空白缝隙

有个很重要特性你要记住： 如果一个元素没有基线，比如图片或者表单等行内块元素，则他的底线会和父级盒子的基线对齐。这样会造成一个问题，就是图片底侧会有一个空白缝隙。

解决的方法就是：  

1. 给img vertical-align:middle | top等等。  让图片不要和基线对齐。（用的比较多）<img src="https://gitee.com/p_pj/picgo/raw/master/img/20210618235305.png"  width="500"  style="border: 1px dashed #ccc;" />


1. 给img 添加 display：block; 转换为块级元素就不会存在问题了。<img src="https://gitee.com/p_pj/picgo/raw/master/img/20210618235308.png" width="500" style="border: 1px dashed #ccc;"/>



-------------



### 溢出的文字隐藏

#### word-break:自动换行

normal   使用浏览器默认的换行规则。

break-all   允许在单词内换行。

keep-all    只能在半角空格或连字符处换行。

主要处理英文单词

#### white-space

white-space设置或检索对象内文本显示方式。通常我们使用于强制一行显示内容 

normal : 　默认处理方式
nowrap : 　强制在同一行内显示所有文本，直到文本结束或者遭遇br标签对象才换行。

可以处理中文

#### text-overflow 文字溢出

```css
text-overflow : clip | ellipsis
```

设置或检索是否使用一个省略标记（...）标示对象内文本的溢出

clip : 　不显示省略标记（...），而是简单的裁切 

ellipsis : 　当对象内文本溢出时显示省略标记（...）

注意`一定要首先强制一行内显示，再次和overflow属性  搭配使用`



------------



### CSS精灵技术（sprite）

#### 精灵技术产生的背景

<img src="https://gitee.com/p_pj/picgo/raw/master/img/20210618235311.png" />

图所示为网页的请求原理图，当用户访问一个网站时，需要向服务器发送请求，网页上的每张图像都要经过一次请求才能展现给用户。

然而，一个网页中往往会应用很多小的背景图像作为修饰，当网页中的图像过多时，服务器就会频繁地接受和发送请求，这将大大降低页面的加载速度。为了`有效地减少服务器接受和发送请求的次数，提高页面的加载速度`，出现了`CSS精灵技术（也称CSS Sprites、CSS雪碧`）。

#### 精灵技术本质

简单地说，CSS精灵是一种处理网页背景图像的方式。它将一个页面涉及到的所有零星背景图像都集中到一张大图中去，然后将大图应用于网页，这样，当用户访问该页面时，只需向服务发送一次请求，网页中的背景图像即可全部展示出来。通常情况下，这个由很多小的背景图像合成的大图被称为精灵图（雪碧图），如下图所示为京东网站中的一个精灵图。

<img src="https://gitee.com/p_pj/picgo/raw/master/img/20210618235313.png"  style="border: 1px dashed #ccc;" />

#### 精灵技术的使用

CSS 精灵其实是将网页中的`一些背景图像整合到一张大图中（精灵图）`，然而，各个网页元素通常只需要精灵图中不同位置的某个小图，要想精确定位到精灵图中的某个小图，就需要使用CSS的background-image、background-repeat和`background-position属性进行背景定位`，其中最关键的是使用background-position属性精确地定位。

#### 制作精灵图

CSS 精灵其实是将网页中的一些背景图像整合到一张大图中（精灵图/雪碧图），那我们要做的，就是把小图拼合成一张大图。

大部分情况下，精灵图都是网页美工做。

- 我们精灵图上放的都是小的装饰性质的背景图片。 插入图片不能往上放。
- 我们精灵图的宽度取决于最宽的那个背景。 
- 我们可以横向摆放也可以纵向摆放，但是每个图片之间，间隔至少隔开偶数像素合适。
- 在我们精灵图的最低端，留一片空隙，方便我们以后添加其他精灵图。

结束语：   小公司，背景图片很少的情况，没有必要使用精灵技术，维护成本太高。 如果是背景图片比较多，可以建议使用精灵技术。



-----------



### 字体图标

图片是有诸多优点的，但是缺点很明显，比如图片不但增加了总文件的大小，还增加了很多额外的"http请求"，这都会大大降低网页的性能的。更重要的是图片不能很好的进行“缩放”，因为图片放大和缩小会失真。 我们后面会学习移动端响应式，很多情况下希望我们的图标是可以缩放的。此时，一个非常重要的技术出现了，额不是出现了，是以前就有，是被重新"宠幸"啦。。 这就是`字体图标（iconfont).`

#### 字体图标优点

- 可以做出跟图片一样可以做的事情,改变透明度、旋转度，等..
- 但是`本质其实是文字`，可以很随意的改变颜色、产生阴影、透明效果等等...
- 本身体积更小，但携带的信息并没有削减。
- 几乎支持所有的浏览器
- 移动端设备必备良药...

#### 字体图标使用流程

总体来说，字体图标按照如下流程：

<img src="https://gitee.com/p_pj/picgo/raw/master/img/20210618235316.png" />

#### 设计字体图标

假如图标是我们公司单独设计，那就需要第一步了，这个属于UI设计人员的工作， 他们在 illustrator 或 Sketch 这类矢量图形软件里创建 icon图标， 比如下图：

<img src="https://gitee.com/p_pj/picgo/raw/master/img/20210618235318.jpg" />

  之后保存为svg格式，然后给我们前端人员就好了。 

  其实第一步，我们不需要关心，只需要给我们这些图标就可以了，如果图标是大众的，网上本来就有的，可以直接跳过第一步，进入第三步。

#### 上传生成字体包

   当UI设计人员给我们svg文件的时候，我们需要转换成我们页面能使用的字体文件， 而且需要生成的是兼容性的适合各个浏览器的。

> **icomoon字库**   
>
>  网站： http://icomoon.io
>
> IcoMoon成立于2011年，推出的第一个自定义图标字体生成器，它允许用户选择他们所需要的图标，使它们成一字型。 内容种类繁多，非常全面，唯一的遗憾是国外服务器，打开网速较慢。
>
>  
>
> **阿里icon font字库**
>
> http://www.iconfont.cn/
>
> 这个是阿里妈妈M2UX的一个icon font字体图标字库，包含了淘宝图标库和阿里妈妈图标库。可以使用AI制作图标上传生成。 一个字，免费，免费！！
>
> 
>
> **fontello**
>
> [http://fontello.com/](http://fontello.com/)
>
> 在线定制你自己的icon font字体图标字库，也可以直接从GitHub下载整个图标集，该项目也是开源的。
>
> 
>
> **Font-Awesome**
>
> [http://fortawesome.github.io/Font-Awesome/](http://fortawesome.github.io/Font-Awesome/)
>
> 这是我最喜欢的字库之一了，更新比较快。目前已经有369个图标了。
>
> 
>
> **Glyphicon Halflings**
>
> [http://glyphicons.com/](http://glyphicons.com/)
>
> 这个字体图标可以在Bootstrap下免费使用。自带了200多个图标。
>
> 
>
> **Icons8**
>
> [https://icons8.com/](https://icons8.com/)
>
> 提供PNG免费下载，像素大能到500PX

#### 下载兼容字体包

刚才上传完毕， 网站会给我们把UI做的svg图片转换为我们的字体格式， 然后下载下来就好了

当然，我们不需要自己专门的图标，是想网上找几个图标使用，以上2步可以直接省略了， 直接到刚才的网站上找喜欢的下载使用吧。

<img src="https://gitee.com/p_pj/picgo/raw/master/img/20210618235322.png" />

<img src="https://gitee.com/p_pj/picgo/raw/master/img/20210618235324.png" />

#### 字体引入到HTML

最后一步，是最重要的一步了， 就是字体文件已经有了，我们需要引入到我们页面中。

1. 首先把 以下4个文件放入到 fonts文件夹里面。 通俗的做法

   ![1498032122244](https://gitee.com/p_pj/picgo/raw/master/img/20210618235327.png)

#### 第一步：在样式里面声明字体： 告诉别人我们自己定义的字体

   ```css
@font-face {			/*声明字体*/
  font-family: 'icomoon';
  src:  url('fonts/icomoon.eot?7kkyc2');
  src:  url('fonts/icomoon.eot?7kkyc2#iefix') format('embedded-opentype'),
    url('fonts/icomoon.ttf?7kkyc2') format('truetype'),
    url('fonts/icomoon.woff?7kkyc2') format('woff'),
    url('fonts/icomoon.svg?7kkyc2#icomoon') format('svg');
  font-weight: normal;
  font-style: normal;
}
   ```

#### 第二步：给盒子使用字体

   ```css
span {
		font-family: "icomoon";		/*和上面的font-family相同*/
	}
   ```

#### 第三步：盒子里面添加结构

   ~~~css
span::before {
		 content: "\e900";
	}
或者  
<span></span>  
   ~~~


#### 追加新图标到原来库里面

如果工作中，原来的字体图标不够用了，我们需要添加新的字体图标，但是原来的不能删除，继续使用，此时我们需要这样做

把压缩包里面的selection.json 从新上传，然后，选中自己想要新的图标，从新下载压缩包，替换原来文件即可。

<img src="https://gitee.com/p_pj/picgo/raw/master/img/20210618235330.png" />

---------------



### 滑动门

先来体会下现实中的滑动门,或者你可以叫做推拉门：

<img src="https://gitee.com/p_pj/picgo/raw/master/img/20210618235333.gif" />

#### 滑动门出现的背景

制作网页时，为了美观，常常需要为网页元素设置特殊形状的背景，比如微信导航栏，有凸起和凹下去的感觉，最大的问题是里面的字数不一样多，咋办？

<img src="https://gitee.com/p_pj/picgo/raw/master/img/20210618235338.jpg" />

为了使各种特殊形状的背景能够自适应元素中文本内容的多少，出现了CSS滑动门技术。它从新的角度构建页面，使各种特殊形状的背景能够自由拉伸滑动，以适应元素内部的文本内容，可用性更强。 最常见于各种导航栏的滑动门。

#### 核心技术

核心技术就是利用CSS精灵（主要是背景位置）和盒子padding撑开宽度, 以便能适应不同字数的导航栏。

一般的经典布局都是这样的：

```html
<li>
  <a href="#">
    <span>导航栏内容</span>
  </a>
</li>
```

总结： 

1. a 设置 背景左侧，padding撑开合适宽度。    
2. span 设置背景右侧， padding撑开合适宽度 剩下由文字继续撑开宽度。
3. 之所以a包含span就是因为 整个导航都是可以点击的。

### CSS 三角形

```css
div {
    width: 0; 
    height: 0;
    line-height:0；
    font-size: 0;
    
   border-top: 10px solid red;
   border-right: 10px solid green;
   border-bottom: 10px solid blue;
   border-left: 10px solid #000; 
}
```

1. 我们用css 边框可以模拟三角效果
2. 宽度高度为0
3. 我们4个边框都要写， 只保留需要的边框颜色，其余的不能省略，都改为 transparent 透明就好了
4. 为了照顾兼容性 低版本的浏览器，加上 font-size: 0;  line-height: 0;